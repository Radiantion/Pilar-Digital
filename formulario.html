<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>presença eletiva</title>
    <link rel="stylesheet" href="css/form.css">
</head>

<body>
    <header>
        <h2>Formulário de Presença Eletiva</h2>
    </header>
    <div class="container">
        <h1>Presença</h1>
        <form id="presencaForm" action="https://formspree.io/f/mgvydjkj" method="POST">
            <label>Nome</label>
            <input type="text" name="nome" required>
            <label>Turma</label>
            <select name="turma" required>
                <option value="" disabled selected>Selecione sua turma</option>
                <option value="1INF1">1INF1</option>
                <option value="1INF2">1INF2</option>
                <option value="1INF3">1INF3</option>
                <option value="1MKT1">1MKT1</option>
                <option value="1MKT2">1MKT2</option>
                <option value="1MKT3">1MKT3</option>
                <option value="2INF1">2INF1</option>
                <option value="2INF2">2INF2</option>
                <option value="2MKT1">2MKT1</option>
                <option value="2MKT2">2MKT2</option>
                <option value="2MKT3">2MKT3</option>
                <option value="3V1">3V1</option>
                <option value="3INF1">3INF1</option>
                <option value="3INF2">3INF2</option>
                <option value="3MKT1">3MKT1</option>
                <option value="3MKT2">3MKT2</option>
            </select>
            <label>eletiva</label>
            <input type="text" name="eletiva" required>

            <button type="submit">Enviar</button>
        </form>
        <div id="mensagem" style="display:none; margin-top:20px; color:green; font-weight:bold; text-align:center;">
            Presença registrada com sucesso!</div>
    </div>

    <script>
        document.getElementById('presencaForm').addEventListener('submit', function (event) {
            event.preventDefault();
            const form = event.target;
            const data = new FormData(form);
            fetch(form.action, {
                method: 'POST',
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    document.getElementById('mensagem').style.display = 'block';
                    form.reset();
                } else {
                    alert('Ocorreu um erro ao enviar. Tente novamente.');
                }
            }).catch(() => {
                alert('Ocorreu um erro ao enviar. Tente novamente.');
            });
        });
    </script>
</body>

</html>